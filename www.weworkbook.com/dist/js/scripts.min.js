var iInviteeCount = 0;

function gtag() {
    dataLayer.push(arguments)
}

function gtag_report_conversion(e) {
    return gtag("event", "conversion", {
        send_to: "AW-769176637/CM2TCLnx25QBEL3o4u4C",
        event_callback: function() {
            void 0 !== e && (window.location = e)
        }
    }), !1
}

function showTimeZone() {
    if ("" == jQuery('input[name ="email"]').val()) return jQuery('input[name ="email"]').focus(), !1;
    if ("" == jQuery('input[name ="password"]').val()) return jQuery('input[name ="password"]').focus(), !1;
    var e = -1 * (new Date).getTimezoneOffset();
    return document.login_form.timezone.value = e, !0
}

function checkcontactemail() {
    return "" == $("#reset_form #email").val() ? ($("#reset_form #error").html("Please enter an email address!"), $("#reset_form #email").focus(), !1) : !!checkMail($("#reset_form #email").val()) || ($("#reset_form #error").html("This is not a valid email address!"), $("#reset_form #email").focus(), !1)
}

function checkMail(e, a) {
    var o, t = !0;
    if ("" == !(o = e)) {
        if (/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)) t = !0;
        else {
            /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@([a-zA-Z\-0-9])+$/.test(o) ? t = !0 : (a && alert("Incorrect email address"), t = !1)
        }
    } else a && alert("Please enter an email address"), t = !1;
    return t
}
$(document).ready(function() {
    $("#hamburger").click(function() {
            $("#menu").toggle(), this.className.includes("fa-bars") ? $("#hamburger").removeClass("fa-bars").addClass("fa-times") : $("#hamburger").removeClass("fa-times").addClass("fa-bars")
        }), $("#viewMore").click(function() {
            $(".testimonials").removeClass("d-none d-sm-block"), $("#viewMore").hide()
        }), $(".reqst-hide a").click(function() {
            $(".banner-form").addClass("rqstHide")
        }), $(".footer-reqForm a").click(function() {
            $(".footer-req").addClass("footer-rqstHide")
        }), $("#requireAVETMISS").click(function() {
            1 == $(this).prop("checked") ? $(".rto").show() : 0 == $(this).prop("checked") && $(".rto").hide()
        }), $("#create_company_frm").submit(function(e) {
            e.preventDefault();
            const a = $("#create_company_frm").serialize();
            $.ajax({
                url: "../function/createCompany.php",
                data: a,
                method: "POST",
                dataType: "json"
            }).then(function(e, a, o) {
                if ("0" == e[0]) {
                    $("#createModal").modal("hide"), $("#successModal").modal("show");
                    let a = e[3] + " " + e[4];
                    $("#cName").html(e[2]), $("#fullName").html(a), $("#cEmail").html(e[5]), $("#cPhone").html(e[6]), $("#logins").html("1"), $(".license").html("Kickstart"), $("#cost").html("165"), $(".companyId").val(e[1]), $("#fName").html(e[3])
                } else "no company" == e[1] ? $("#companyName").focus() : "email exists" == e[1] ? $(".invalid-feedback").show() : "gmail" == e[0] ? $(".invalid-feedback").html('Gmail and Hotmail are not supported for self-start company.').show() : "duplicate company" == e[1] && $(".invalid-feedbackC").show()
            }).fail(function(e, a, o) {
                console.log(e.responseText)
            })
        }), $("#createCompany").click(function() {
            $("#introModal").modal("hide"), $("#createModal").modal("show")
        }), $("#skipStaff").click(function() {
            $("#successModal").modal("hide"), $("#skipStaffModal").modal("show")
        }), $("#inviteStaff").click(function() {
            $("#successModal").modal("hide"), $("#inviteStaffModal").modal("show")
        }), $("#notNow").click(function() {
            $("#skipStaffModal").modal("hide"), $("#completeModal").modal("show")
        }),
        $("#staffInvited").click(function() {
            $("#inviteStaffModal").modal("hide");
            $("#staffInvitedModal").modal("show");
        });
    $("#goBack").click(function() {
        $("#completeModal").modal("hide");
        $("#staffInvitedModal").modal("show");
    });
    $("#notNow").click(function() {
            $("#inviteStaffModal").modal("hide"), $("#completeModal").modal("show")
        }), $("#completeSetup1").click(function() {
            $("#skipStaffModal").modal("hide"), $("#inviteStaffModal").modal("hide"), $("#completeModal").modal("show")
        }), $("#completeSetup2").click(function() {
            $("#staffInvitedModal").modal("hide"), $("#completeModal").modal("show")
        }),
        $("#addMore").click(function() {
            if (iInviteeCount < 50) {
                iInviteeCount = iInviteeCount + 1;
                var strAddStaffTemplate = $(".addStaffTemplate")[0].innerHTML;
                var newItem = document.createElement("DIV");
                newItem.innerHTML = strAddStaffTemplate;
                this.parentElement.parentElement.parentElement.insertBefore(newItem, this.parentElement.parentElement);
            }
        }),
        $('div').on('click', 'i.deleteStaff', function() {
            iInviteeCount = iInviteeCount - 1;
            this.parentElement.parentElement.style.display = 'none';
        }),
        $("#submitSetup").click(function() {
            $("#skipStaffModal").modal("hide");
            $("#completeModal").modal("hide");
            var typeInCompletePage = 0;
            var finalURL = "https://weworkbook.com/thankyou-simply-free/";
            typeInCompletePage = $('#typeInCompletePage').val();
            if (typeInCompletePage == 1)
                finalURL = "https://weworkbook.com/thankyou-kickstarter/";
            else if (typeInCompletePage == 2)
                finalURL = "https://weworkbook.com/thankyou-automate/";
            else if (typeInCompletePage == 3)
                finalURL = "https://weworkbook.com/thankyou-integrate/";
            window.location = finalURL;
        }),
        $("#email2").keyup(function() {
            $(".license").html("Enterprise")
        }), $("#createUsers").submit(function(e) {
            e.preventDefault();
            var a = $("#createUsers input[name=firstName1]").val(),
                o = $("#createUsers input[name=lastName1]").val(),
                t = $("#createUsers input[name=email1]").val();
            if ("" == a || "" == o || "" == t) alert("not all fields filled in");
            else {
                const e = $("#createUsers").serialize();
                $.ajax({
                    url: "../function/createNewUsers.php",
                    data: e,
                    method: "POST",
                    dataType: "json"
                }).then(function(e, a, o) {
                    if ("0" == e[0]) {
                        $("#addModal").modal("hide");
                        const a = e[2];
                        a > 2 && ($(".license").html("Enterprise"), $("#cost").html("330")), $("#logins").html(a)
                    }
                }).fail(function(e, a, o) {
                    console.log(e.responseText)
                })
            }
        }), $("#more").click(function() {
            $("#more-info").show(), $("#more").hide()
        })
}), window.dataLayer = window.dataLayer || [], gtag("js", new Date), gtag("config", "AW-769176637");